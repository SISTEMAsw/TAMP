(function(){"use strict";var a=this;a.define(["backbone","communicator","hbs!core/ColorRamp/ColorRampControl","underscore"],function(a,b,c){var d=a.Marionette.ItemView.extend({template:{type:"handlebars",template:c},onClose:function(){$("#hs-slider").slider("destroy"),$("#sat-slider").slider("destroy"),$("#slider").slider("destroy")},onShow:function(){function a(a){return Math.abs(a%360)}function c(a){return a>15?a.toString(16).toUpperCase():"0"+a.toString(16).toUpperCase()}function d(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null}function e(){for(var e=[],o=0;16>o;o++){m[o]=a(h-g*(o-8));var p=(8-Math.abs(o-7))*i/5;n[o]=f(m[o],k[o]+p,l[o]+p);for(var q=c(n[o].r)+c(n[o].g)+c(n[o].b),r="c_"+o,s=document.getElementsByClassName(r),t=s.length-1;t>=0;t--){s[t].style.backgroundColor="#"+q;var u=1/255,v=d("#"+q),w=e.length,x=1/16,y=1-w*x,z=y-x;e.push({start:z,stop:y,color:[v.r*u,v.g*u,v.b*u,1]})}}var A={alphaThreshold:j,steps:e};b.mediator.trigger("options:colorramp:change",A),$("#labelHV").innerHTML=h,$("#labelHS").innerHTML=g,$("#labelGS").innerHTML=i}function f(a,b,c){var d,e,f,g,h,i,j,k;return a%=360,0==c?{r:0,g:0,v:0}:(b>100&&(b=100),0>b&&(b=0),c>100&&(c=100),0>c&&(c=0),b/=100,c/=100,a/=60,g=Math.floor(a),h=a-g,i=c*(1-b),j=c*(1-b*h),k=c*(1-b*(1-h)),0==g?(d=c,e=k,f=i):1==g?(d=j,e=c,f=i):2==g?(d=i,e=c,f=k):3==g?(d=i,e=j,f=c):4==g?(d=k,e=i,f=c):5==g&&(d=c,e=i,f=j),d=Math.floor(255*d),e=Math.floor(255*e),f=Math.floor(255*f),{r:d,g:e,b:f})}var g=40,h=360,i=50,j=this.options.alphaThreshold,k=new Array,l=new Array,m=new Array,n=new Array;k[0]=3,l[0]=98,m[0]=0,k[1]=10,l[1]=94,m[1]=0,k[2]=17,l[2]=87,m[2]=0,k[3]=22,l[3]=81,m[3]=0,k[4]=29,l[4]=76,m[4]=0,k[5]=37,l[5]=70,m[5]=0,k[6]=43,l[6]=64,m[6]=0,k[7]=47,l[7]=57,m[7]=0,k[8]=54,l[8]=51,m[8]=0,k[9]=61,l[9]=44,m[9]=0,k[10]=67,l[10]=38,m[10]=0,k[11]=75,l[11]=32,m[11]=0,k[12]=82,l[12]=25,m[12]=0,k[13]=83,l[13]=19,m[13]=0,k[14]=88,l[14]=13,m[14]=0,k[15]=100,l[15]=6,m[15]=0,$("#hs_slider").slider({value:40,min:0,max:50,step:1,slide:function(a,b){g=b.value,e()}}),$("#sat_slider").slider({value:50,min:-50,max:50,step:1,slide:function(a,b){i=b.value,e()}}),$("#slider").slider({value:360,min:0,max:360,step:1,slide:function(a,b){h=b.value,e(),$("#amount").val(b.value)}}),$("#alpha_slider").slider({value:10*this.options.alphaThreshold,min:0,max:10,step:.01,slide:function(a,b){j=b.value/10,e(),$("#labelAlpha").val(b.value)}})}});return{ColorRampView:d}})}).call(this);